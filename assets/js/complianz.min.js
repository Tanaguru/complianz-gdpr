"use strict";jQuery(document).ready(function($){complianz.url=complianz.url+"&token="+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);(function(){if("function"===typeof window.CustomEvent)return false;function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:void 0};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})();var ccStatus;var ccName;var ccStatsEnabled=false;var ccAllEnabled=false;var waitingInlineScripts=[];var waitingScripts=[];var placeholderClassIndex=0;var curClass="";var cmplzAllScriptsHookFired=false;var cmplzLocalhostWarningShown=false;var cmplzCategories=["cmplz_functional","cmplz_prefs","cmplz_stats","cmplz_marketing"];$("#cmplz-manage-consent-container-nojavascript").hide();$("#cmplz-manage-consent-container").show();$(document).on("click",".cc-btn-no-href",function(e){e.preventDefault()});function setStatusAsBodyClass(status){var ccBody=$("body");ccBody.removeClass(curClass);ccBody.addClass("cmplz-status-"+status);ccBody.addClass("cmplz-"+complianz.region);ccBody.addClass("cmplz-"+complianz.consenttype);curClass="cmplz-status-"+status}document.addEventListener("cmplz_consent_action",function(e){cmplzFireCategories(e.detail.category,true);cmplzSyncCategoryCheckboxes();cmplzSaveCategoriesSelection()});function setBlockedContentContainer(){$(".cmplz-image").each(function(i,obj){if($(this).hasClass("cmplz-processed"))return;$(this).addClass("cmplz-processed");var blockedImageContainer=$(this).parent();blockedImageContainer.addClass("cmplz-blocked-content-container");if("lazy"===$(this).attr("loading")){$(this).removeAttr("loading");$(this).data("deferlazy",1)}if("marketing"!==cmplzGetHighestAcceptance()&&!blockedImageContainer.find(".cmplz-blocked-content-notice").length){var placeholderText=complianz.placeholdertext;if("undefined"!==typeof placeholderText)blockedImageContainer.append('<button class="cmplz-blocked-content-notice cmplz-accept-marketing">'+placeholderText+"</button>")}});$(".cmplz-placeholder-element").each(function(){if($(this).hasClass("cmplz-processed"))return;$(this).addClass("cmplz-processed");var blockedContentContainer;if($(this).hasClass("cmplz-iframe")){if("lazy"===$(this).attr("loading")){$(this).removeAttr("loading");$(this).data("deferlazy",1)}blockedContentContainer=$(this).parent()}else blockedContentContainer=$(this);var curIndex=blockedContentContainer.data("placeholderClassIndex");if("undefined"===typeof curIndex){placeholderClassIndex++;blockedContentContainer.addClass("cmplz-placeholder-"+placeholderClassIndex);blockedContentContainer.addClass("cmplz-blocked-content-container");blockedContentContainer.data("placeholderClassIndex",placeholderClassIndex);if("marketing"!==cmplzGetHighestAcceptance()&&!blockedContentContainer.find(".cmplz-blocked-content-notice").length){var placeholderText=complianz.placeholdertext;if("undefined"!==typeof placeholderText)blockedContentContainer.append('<button class="cmplz-blocked-content-notice cmplz-accept-marketing">'+placeholderText+"</button>")}var src=$(this).data("placeholder-image");if("undefined"!==typeof src&&src.length){src=src.replace("url(","").replace(")","").replace(/\"/gi,"");$("head").append("<style>.cmplz-placeholder-"+placeholderClassIndex+" {background-image: url("+src+") !important;}</style>");setBlockedContentContainerAspectRatio($(this),src,placeholderClassIndex)}}});if("marketing"===cmplzGetHighestAcceptance())cmplzEnableMarketing()}function setBlockedContentContainerAspectRatio(container,src,placeholderClassIndex){if("undefined"===typeof container)return;var blockedContentContainer=container.parent();var img=new Image;img.addEventListener("load",function(){var imgWidth=this.naturalWidth;var imgHeight=this.naturalHeight;if(0===imgWidth)imgWidth=1;var w=blockedContentContainer.width();var h=imgHeight*(w/imgWidth);var heightCSS="";if(-1===src.indexOf("placeholder.jpg"))heightCSS="height:"+h+"px;";$("head").append("<style>.cmplz-placeholder-"+placeholderClassIndex+" {"+heightCSS+"}</style>")});img.src=src}var resizeTimer;$(window).on("resize",function(){clearTimeout(resizeTimer)});setInterval(function(){setBlockedContentContainer()},2e3);function cmplzEnableMarketing(){var event=new CustomEvent("cmplzRunBeforeAllScripts");document.dispatchEvent(event);if("no"===complianz.use_categories&&!ccStatsEnabled)cmplzEnableStats();cmplzIntegrationsConsent();$(".cmplz-style-element").each(function(i,obj){if($(this).hasClass("cmplz-activated"))return;$(this).addClass("cmplz-activated");var src=$(this).data("href");$("head").append('<link rel="stylesheet" type="text/css" href="'+src+'">')});$(".cmplz-blocked-content-notice").each(function(){$(this).remove()});$(".cmplz-image").each(function(i,obj){if($(this).hasClass("cmplz-activated"))return;$(this).addClass("cmplz-activated");var src=$(this).data("src-cmplz");$(this).attr("src",src);if($(this).data("deferlazy"))$(this).attr("loading","lazy")});$(".cmplz-iframe").each(function(i,obj){if($(this).hasClass("cmplz-activated"))return;$(this).addClass("cmplz-activated");var src=$(this).data("src-cmplz");var autoplay=cmplzGetUrlParameter($(this).attr("src"),"autoplay");if("1"===autoplay)src+="&autoplay=1";$(this).attr("src",src).on("load",function(){if("function"==typeof $(this).parent().fitVids)$(this).parent().fitVids();var curElement=$(this);if($(this).data("deferlazy"))$(this).attr("loading","lazy");var blockedContentContainer=$(this).closest(".cmplz-blocked-content-container");blockedContentContainer.animate({"background-image":"url('')"},400,function(){var cssIndex=blockedContentContainer.data("placeholderClassIndex");blockedContentContainer.removeClass("cmplz-blocked-content-container");blockedContentContainer.removeClass("cmplz-placeholder-"+cssIndex);curElement.removeClass("cmplz-iframe-styles");curElement.removeClass("cmplz-iframe");curElement.removeClass("video-wrap");curElement.removeClass("cmplz-hidden")})})});$(".cmplz-noframe").each(function(i,obj){if($(this).hasClass("cmplz-activated"))return;$(this).addClass("cmplz-activated");var blockedContentContainer=$(this);var cssIndex=blockedContentContainer.data("placeholderClassIndex");blockedContentContainer.removeClass("cmplz-blocked-content-container");blockedContentContainer.removeClass("cmplz-noframe");blockedContentContainer.removeClass("cmplz-placeholder-"+cssIndex)});var scriptElements=$(".cmplz-script");scriptElements.each(function(i,obj){var waitfor=$(this).data("waitfor");var src=$(this).attr("src");if(src&&src.length){if("undefined"!==typeof waitfor)waitingScripts[waitfor]=src}else if($(this).text().length)if("undefined"!==typeof waitfor)waitingInlineScripts[waitfor]=$(this)});scriptElements.each(function(i,obj){if($(this).hasClass("cmplz-activated"))return;$(this).addClass("cmplz-activated");if($(this).hasClass("cmplz-stats"))return true;var src=$(this).attr("src");if(src&&src.length){$(this).attr("type","text/javascript");if(cmplzIsWaitingScript(waitingScripts,src))return;if("undefined"!==typeof $(this).data("post_scribe_id")){var psID="#"+$(this).data("post_scribe_id");if($(psID).length){$(psID).html("");$(function(){postscribe(psID,"<script src="+src+"></script>")})}}else $.getScript(src).done(function(s,Status){var allScriptsExecuted=true;var waitingScript=cmplzGetWaitingScript(waitingScripts,src);if(waitingScript){allScriptsExecuted=false;$.getScript(waitingScript).done(function(script,textStatus){cmplzRunAfterAllScripts()}).fail(function(jqxhr,settings,exception){console.warn("Something went wrong "+exception)})}var waitingInlineScript=cmplzGetWaitingScript(waitingInlineScripts,src);if(waitingInlineScript){allScriptsExecuted=false;cmplzRunInlineScript(waitingInlineScript)}if(allScriptsExecuted)cmplzRunAfterAllScripts()}).fail(function(jqxhr,settings,exception){console.warn("Something went wrong "+exception)})}else if($(this).text().length){if(cmplzIsWaitingScript(waitingInlineScripts,$(this).text()))return;cmplzRunInlineScript($(this))}});if(!ccAllEnabled){var event=new CustomEvent("cmplzEnableScripts",{detail:"marketing"});document.dispatchEvent(event);var event=document.createEvent("Event");event.initEvent("cmplzEnableScriptsMarketing",true,true);document.dispatchEvent(event);cmplzRunAfterAllScripts();ccAllEnabled=true}}function cmplzGetWaitingScript(waitingScripts,src){for(var waitfor in waitingScripts){var waitingScript;if(waitingScripts.hasOwnProperty(waitfor)){waitingScript=waitingScripts[waitfor];if("string"!==typeof waitingScript)waitingScript=waitingScript.text();if(-1!==src.indexOf(waitfor)){var output=waitingScripts[waitfor];delete waitingScripts[waitfor];return output}}}return false}function cmplzArrayIsEmpty(arr){for(var key in arr)if(arr.hasOwnProperty(key))return false;return true}function cmplzIsWaitingScript(waitingScripts,srcOrScript){for(var waitfor in waitingScripts)if(waitingScripts.hasOwnProperty(waitfor)){var waitingScript=waitingScripts[waitfor];if("string"!==typeof waitingScript)waitingScript=waitingScript.text();if(-1!==srcOrScript.indexOf(waitingScript)||-1!==waitingScript.indexOf(srcOrScript))return true}return false}function cmplzRunAfterAllScripts(){if(!cmplzAllScriptsHookFired&&cmplzArrayIsEmpty(waitingInlineScripts)&&cmplzArrayIsEmpty(waitingScripts)){var event=new CustomEvent("cmplzRunAfterAllScripts");document.dispatchEvent(event);cmplzAllScriptsHookFired=true}}function cmplzRunInlineScript(script){$("<script>").attr("type","text/javascript").text(script.text()).appendTo(script.parent());var waitingScript=cmplzGetWaitingScript(waitingScripts,script.text());if(false!==waitingScript)$.getScript(waitingScript).done(function(s,Status){cmplzRunAfterAllScripts()}).fail(function(jqxhr,settings,exception){console.warn("Something went wrong "+exception)});else cmplzRunAfterAllScripts();script.remove()}function cmplzEnableStats(){if(ccStatsEnabled)return;$(".cmplz-stats").each(function(i,obj){if($(this).hasClass("cmplz-native"))return true;var src=$(this).attr("src");if(src&&src.length){$(this).attr("type","text/javascript");$.getScript(src).done(function(s,Status){}).fail(function(jqxhr,settings,exception){console.warn("Something went wrong "+exception)})}else if($(this).text().length){var str=$(this).text();$("<script>").attr("type","text/javascript").text(str).appendTo($(this).parent());$(this).remove()}});ccStatsEnabled=true;var event=new CustomEvent("cmplzEnableScripts",{detail:"statistics"});document.dispatchEvent(event)}var cmplzFiredEvents=[];function cmplzRunTmEvent(event){if(-1===cmplzFiredEvents.indexOf(event))if("cmplz_event_marketing"===event&&complianz.tm_categories){console.log("fire "+event);cmplzFiredEvents.push("cmplz_event_marketing");window.dataLayer.push({event:"cmplz_event_marketing"});console.log("Deprecated event: The cmplz_event_all will be deprecated in the future.");cmplzFiredEvents.push("cmplz_event_all");window.dataLayer=window.dataLayer||[];window.dataLayer.push({event:"cmplz_event_all"})}else{console.log("fire "+event);cmplzFiredEvents.push(event);window.dataLayer=window.dataLayer||[];window.dataLayer.push({event:event})}}var cmplz_user_data=[];if("undefined"!==typeof Storage&&sessionStorage.cmplz_user_data)cmplz_user_data=JSON.parse(sessionStorage.cmplz_user_data);if(1==complianz.geoip&&(0===cmplz_user_data.length||cmplz_user_data.version!==complianz.version||cmplz_user_data.banner_version!==complianz.banner_version)){var request=new XMLHttpRequest;request.open("GET",complianz.url.replace("/v1","/v1/banner"),true);request.setRequestHeader("Content-type","application/json");request.send();request.onload=function(){cmplz_user_data=JSON.parse(request.response);sessionStorage.cmplz_user_data=JSON.stringify(cmplz_user_data);conditionally_show_warning()}}else conditionally_show_warning();if(1==complianz.a_b_testing){var cmplz_id_cookie=cmplzGetCookie("cmplz_id");var cmplz_id_session="";var cmplz_id="";if("undefined"!==typeof Storage&&sessionStorage.cmplz_id)cmplz_id_session=JSON.parse(sessionStorage.cmplz_id);if(0==cmplz_id_cookie.length&&cmplz_id_session.length>0)cmplz_id=cmplz_id_session;if(cmplz_id_cookie.length>0&&0==cmplz_id_session.length)cmplz_id=cmplz_id_cookie;if("undefined"!==typeof Storage)sessionStorage.cmplz_id=JSON.stringify(cmplz_id);cmplzSetCookie("cmplz_id",cmplz_id,complianz.cookie_expiry)}function conditionally_show_warning(){complianz=cmplzMergeObject(complianz,cmplz_user_data);if(complianz.disable_cookiebanner)return;cmplzMaybeAutoRedirect();setBlockedContentContainer();window.wp_consent_type=complianz.consenttype;var event=new CustomEvent("wp_consent_type_defined");document.dispatchEvent(event);if("optinstats"===complianz.consenttype){complianz.use_categories=complianz.use_categories_optinstats;complianz.consenttype="optin"}if("no"!==complianz.use_categories){complianz.type="categories";complianz.layout="categories-layout"}cmplzIntegrationsInit();cmplzCheckCookiePolicyID();complianz.readmore_url=complianz.readmore_url[complianz.region];var event=new CustomEvent("cmplzCookieBannerData",{detail:complianz});document.dispatchEvent(event);if("set"!==cmplzGetCookie("cmplz_choice"))if("optin"!==complianz.consenttype&&"optout"!==complianz.consenttype)complianz_track_status("no_warning");else if(complianz.do_not_track)complianz_track_status("do_not_track");else if("optout"===complianz.consenttype)complianz_track_status("all");else complianz_track_status("no_choice");if(!complianz.do_not_track)if("optin"===complianz.consenttype){setStatusAsBodyClass("functional");if(complianz.forceEnableStats){complianz.categories=cmplzRemoveStatisticsCategory(complianz.categories);var revokeContainer=$(".cmplz-manage-consent-container");if(revokeContainer.length)revokeContainer.html(cmplzRemoveStatisticsCategory(revokeContainer.html()));cmplzEnableStats()}complianz.dismiss_on_scroll=false;complianz.dismiss_on_timeout=false;complianz.readmore=complianz.readmore_optin;complianz.message=complianz.message_optin;console.log("opt-in");cmplz_cookie_warning()}else if("optout"===complianz.consenttype){console.log("opt-out");setStatusAsBodyClass("marketing");complianz.type="opt-out";complianz.layout="basic";if("deny"==cmplzGetCookie("complianz_consent_status"))cmplzDisableAutoDismiss();complianz.readmore=complianz.readmore_optout;complianz.dismiss=complianz.accept_informational;complianz.message=complianz.message_optout;cmplz_cookie_warning()}else{console.log("other consenttype, no cookie warning");cmplzFireCategories("all",true)}else{setStatusAsBodyClass("functional");cmplzLoadRevokeContainer();complianz_track_status("do_not_track")}}function cmplzDisableAutoDismiss(){complianz.dismiss_on_scroll=false;complianz.dismiss_on_timeout=false}function cmplz_cookie_warning(){var css="";if("hidden"===complianz.use_categories||"visible"===complianz.use_categories){css+="#cc-window.cc-window .cc-compliance .cc-btn.cc-accept-all {color:"+complianz.colorpalette_button_accept_text+";background-color:"+complianz.colorpalette_button_accept_background+";border-color:"+complianz.colorpalette_button_accept_border+"}";css+="#cc-window.cc-window .cc-compliance .cc-btn.cc-accept-all:hover{background-color:"+getHoverColour(complianz.colorpalette_button_accept_background)+"}"}if("no"===complianz.use_categories){css+="#cc-window.cc-window .cc-compliance .cc-btn.cc-allow {color:"+complianz.colorpalette_button_accept_text+";background-color:"+complianz.colorpalette_button_accept_background+";border-color:"+complianz.colorpalette_button_accept_border+"}";css+="#cc-window.cc-window .cc-compliance .cc-btn.cc-allow:hover{background-color:"+getHoverColour(complianz.colorpalette_button_accept_background)+"}"}if("hidden"===complianz.use_categories||"visible"===complianz.use_categories){css+=".cc-compliance .cc-btn.cc-show-settings{color:"+complianz.colorpalette_button_settings_text+"!important;background-color:"+complianz.colorpalette_button_settings_background+"!important;border-color:"+complianz.colorpalette_button_settings_border+"!important}";css+=".cc-compliance .cc-btn.cc-show-settings:hover{background-color:"+getHoverColour(complianz.colorpalette_button_settings_background)+"!important}"}if("hidden"===complianz.use_categories||"visible"===complianz.use_categories||"legacy"===complianz.use_categories){css+=".cc-compliance .cc-btn.cc-save-settings{color:"+complianz.colorpalette_button_settings_text+"!important;background-color:"+complianz.colorpalette_button_settings_background+"!important;border-color:"+complianz.colorpalette_button_settings_border+"!important}";css+=".cc-compliance .cc-btn.cc-save-settings:hover{background-color:"+getHoverColour(complianz.colorpalette_button_settings_background)+"!important}";if("slider"==complianz.checkbox_style){css+=".cmplz-slider-checkbox input:checked + .cmplz-slider {background-color: "+complianz.colorpalette_toggles_background+"!important}";css+=".cmplz-slider-checkbox .cmplz-slider {background-color: "+complianz.colorpalette_toggles_inactive+"!important;}";css+=".cmplz-slider-checkbox input:focus + .cmplz-slider {}";css+=".cmplz-slider-checkbox .cmplz-slider:before {background-color: "+complianz.colorpalette_toggles_bullet+"!important;}.cmplz-slider-checkbox .cmplz-slider-na:before {color:"+complianz.toggles_bulletColor+"!important;}"}}css+="#cc-window.cc-window .cc-compliance .cc-btn.cc-dismiss{color:"+complianz.colorpalette_button_deny_text+";background-color:"+complianz.colorpalette_button_deny_background+";border-color:"+complianz.colorpalette_button_deny_border+"}";css+="#cc-window.cc-window .cc-compliance .cc-btn.cc-dismiss:hover{background-color:"+getHoverColour(complianz.colorpalette_button_deny_background)+"}";if(468!==complianz.banner_width)css+="#cc-window.cc-floating {max-width:"+complianz.banner_width+"px;}";if(complianz.use_custom_cookie_css)css+=complianz.custom_css;if(css.length>0)$("<style>").prop("type","text/css").html(css).appendTo("head");var save_button='<a href="#" role="button" class="cc-btn cc-save cc-save-settings">{{save_preferences}}</a>';if("hidden"===complianz.use_categories)if(complianz.tcf_active)save_button='<a href="#" role="button" class="cc-btn cc-save cc-show-settings">{{settings}}</a><a role="button" href="#" class="cc-btn cc-dismiss">{{dismiss}}</a>';else save_button='<a href="#" role="button" class="cc-btn cc-dismiss">{{dismiss}}</a><a role="button" href="#" class="cc-btn cc-save cc-show-settings">{{settings}}</a>';if("visible"===complianz.use_categories||"hidden"===complianz.use_categories)save_button='<a href="#" role="button" class="cc-btn cc-accept-all">{{accept_all}}</a>'+save_button;var dismiss_button='<a href="#" role="button" class="cc-btn cc-dismiss">{{dismiss}}</a>';var allow_button='<a href="#" role="button" class="cc-btn cc-save cc-allow">{{allow}}</a>';if("optout"===complianz.consenttype)dismiss_button='<a href="#" role="button" class="cc-btn cc-allow">{{dismiss}}</a>';var autoOpen=$(".cmplz-tcf-container").length&&complianz.tcf_active?false:true;window.cookieconsent.initialise({cookie:{name:"complianz_consent_status",expiryDays:complianz.cookie_expiry,domain:cmplzGetCookieDomain(),path:cmplzGetCookiePath()},onInitialise:function(status){ccStatus=status;if(complianz.soft_cookiewall&&("allow"===status||"dismiss"===status))dismissCookieWall();if("allow"===status){var all=false;if("no"===complianz.use_categories)all="all";cmplzFireCategories(all,true)}},onStatusChange:function(status,chosenBefore){var details=new Object;details.category=cmplzGetHighestAcceptance();details.region=complianz.region;var event=new CustomEvent("cmplzStatusChange",{detail:details});document.dispatchEvent(event);if(complianz.soft_cookiewall&&("allow"===status||"dismiss"===status))dismissCookieWall();if("allow"===status||"dismiss"===status){$(".cc-window").addClass("cmplz-dismiss");setTimeout(function(e){$(".cc-window").css("display","none")},1e3)}if((complianz.dismiss_on_scroll||complianz.dismiss_on_timeout)&&("dismiss"===status||"allow"===status)){cmplzFireCategories("all",true);ccName.close();$(".cc-revoke").fadeIn()}cmplzUpdateStatusCustomLink(false);ccStatus=status;if("no"===complianz.use_categories)complianz_track_status();if("allow"===status)if("no"===complianz.use_categories)cmplzFireCategories("all",true);else cmplzFireCategories(false,true);if("deny"===status&&"optout"===complianz.consenttype)cmplzRevoke()},onRevokeChoice:function(){$(".cc-window").removeClass("cmplz-dismiss");if(complianz.soft_cookiewall)activateCookieWall();if("no"===complianz.use_categories){cmplzRevoke();$(".cc-revoke").fadeOut();ccName.open()}},autoOpen:autoOpen,dismissOnTimeout:parseInt(complianz.dismiss_on_timeout),dismissOnScroll:parseInt(complianz.dismiss_on_scroll),dismissOnWindowClick:true,revokeBtn:'<button type="button" class="cc-revoke '+complianz.hide_revoke+' {{classes}}">'+complianz.revoke+"</button>",palette:{popup:{background:complianz.colorpalette_background_color,text:complianz.colorpalette_text_color,link:complianz.colorpalette_text_hyperlink_color,border:complianz.colorpalette_background_border,borderwidth:complianz.border_width,borderradius:complianz.colorpalette_border_radius,boxshadow:complianz.box_shadow},button:{background:complianz.colorpalette_button_accept_background,text:complianz.colorpalette_button_accept_text,border:complianz.colorpalette_button_accept_border,borderradius:complianz.buttons_border_radius}},theme:complianz.theme,position:complianz.position,animation:complianz.animation,type:complianz.type,layout:complianz.layout,layouts:{"categories-layout":"{{messagelink}}{{categories-checkboxes}}{{compliance}}",compliance:"{{messagelink}}{{compliance}}"},compliance:{categories:'<div class="cc-compliance cc-highlight">{{save}}</div>'},elements:{dismiss:dismiss_button,allow:allow_button,save:save_button,"categories-checkboxes":complianz.categories,messagelink:'<div class="cc-header">{{header}}</div><div id="cookieconsent:desc" class="cc-message">{{message}} <a class="cc-link" href="{{href}}">{{link}}</a>'+complianz.privacy_link[complianz.region]+"</div>"},content:{save_preferences:complianz.save_preferences,deny:"",header:complianz.header,message:complianz.message,dismiss:complianz.dismiss,allow:complianz.accept,link:complianz.readmore,href:complianz.readmore_url,accept_all:complianz.accept_all,settings:complianz.view_preferences}},function(popup){ccName=popup;if(complianz.soft_cookiewall)$(".cc-window").wrap('<div id="cc-banner-wrap"></div>');if(complianz.soft_cookiewall&&void 0==ccStatus)activateCookieWall();$(".cc-btn").each(function(){$(this).addClass("cc-btn-no-href")});if("hidden"===complianz.use_categories){$(".cmplz-categories-wrap").hide();$(document).on("click",".cc-show-settings",function(){var catsContainer=$(".cmplz-categories-wrap");if(catsContainer.is(":visible")){catsContainer.fadeOut(800);var showSettingsBtn=$(".cc-save-settings");showSettingsBtn.html(complianz.view_preferences);showSettingsBtn.removeClass("cc-show-settings");showSettingsBtn.addClass("cc-save-settings")}else{catsContainer.fadeIn(1600);var showSettingsBtn=$(".cc-show-settings");showSettingsBtn.html(complianz.save_preferences);showSettingsBtn.addClass("cc-save-settings");showSettingsBtn.removeClass("cc-show-settings")}});$(document).on("click",".cc-dismiss",function(){cmplzRevoke()})}$(".cc-window").addClass("cmplz-categories-"+complianz.use_categories);if("optout"!==complianz.consenttype&&"no"!==complianz.use_categories)cmplzSyncCategoryCheckboxes();if("optout"===complianz.consenttype&&"deny"!==cmplzGetCookie("complianz_consent_status"))cmplzFireCategories("all");else cmplzFireCategories();cmplzLoadRevokeContainer();var event=new CustomEvent("cmplzCookieWarningLoaded",{detail:complianz.region});document.dispatchEvent(event)})}$(document).on("click",".cc-save-settings",function(){cmplzSaveCategoriesSelection("banner")});function cmplzRemoveStatisticsCategory(categories){if("no"!==complianz.use_categories&&complianz.forceEnableStats)return categories.replace(/(.*)(<div class="cmplz-categories-wrap"><label.*?>.*?<input.*?class=".*?cmplz_stats.*?<\/label><\/div>)(.*)/g,function(a,b,c,d){return b+d});return categories}function cmplzSaveCategoriesSelection(origin){if(complianz.soft_cookiewall)dismissCookieWall();if("no"!==complianz.use_categories)ccName.setStatus("dismiss");var reload=false;if($(".cmplz_marketing").length)if(!$(".cmplz_marketing").is(":checked")&&"allow"===cmplzGetCookie("cmplz_marketing"))reload=true;else if(!$(".cmplz_marketing").is(":checked")&&"optout"===complianz.consenttype&&""===cmplzGetCookie("cmplz_marketing"))reload=true;if("optinstats"!==complianz.consenttype)cmplz_wp_set_consent("statistics-anonymous","allow");if(complianz.tm_categories)for(var i=0;i<complianz.cat_num;i++)if($(".cmplz_"+i).is(":checked")){cmplzSetCookie("cmplz_event_"+i,"allow",complianz.cookie_expiry);cmplz_wp_set_consent("cmplz_event_"+i,"allow")}else{cmplzSetCookie("cmplz_event_"+i,"deny",complianz.cookie_expiry);cmplz_wp_set_consent("cmplz_event_"+i,"deny")}if($(".cmplz_stats").length)if($(".cmplz_stats").is(":checked")){cmplzSetCookie("cmplz_stats","allow",complianz.cookie_expiry);cmplz_wp_set_consent("statistics","allow");cmplz_wp_set_consent("statistics-anonymous","allow")}else{cmplzSetCookie("cmplz_stats","deny",complianz.cookie_expiry);cmplz_wp_set_consent("statistics","deny");if("optinstats"===complianz.consenttype)cmplz_wp_set_consent("statistics-anonymous","deny")}if($(".cmplz_prefs").length)if($(".cmplz_prefs").is(":checked")){cmplzSetCookie("cmplz_prefs","allow",complianz.cookie_expiry);cmplz_wp_set_consent("preferences","allow")}else{cmplzSetCookie("cmplz_prefs","deny",complianz.cookie_expiry);cmplz_wp_set_consent("preferences","deny")}if($(".cmplz_marketing").length)if($(".cmplz_marketing").is(":checked")){ccName.setStatus(cookieconsent.status.allow);cmplzSetCookie("cmplz_marketing","allow",complianz.cookie_expiry);cmplz_wp_set_consent("marketing","allow")}else{cmplzSetCookie("cmplz_marketing","deny",complianz.cookie_expiry);cmplzSetCookie("complianz_consent_status","deny",complianz.cookie_expiry);cmplz_wp_set_consent("marketing","deny");cmplzIntegrationsRevoke()}complianz_track_status();if("no"!==complianz.use_categories&&"functional"===cmplzGetHighestAcceptance())cmplzRevoke();cmplzUpdateStatusCustomLink(false);ccName.close();$(".cc-revoke").fadeIn();if("banner"==origin)if(reload)location.reload();else $(".cc-revoke").focus()}function complianz_track_status(status){var cats=[];var consentClass="";status="undefined"!==typeof status?status:false;if(!status){cats=cmplzAcceptedCategories();consentClass=cmplzGetHighestAcceptance()}else{if("all"===status)cats=cmplzCategories;else cats=[status];consentClass=status}setStatusAsBodyClass(consentClass);if(1!=complianz.a_b_testing)return;cmplzSetCookie("cmplz_choice","set",complianz.cookie_expiry);var request=new XMLHttpRequest;request.open("POST",complianz.url.replace("/v1","/v1/track"),true);var data={consented_categories:cats,consenttype:window.wp_consent_type};request.setRequestHeader("Content-type","application/json");request.send(JSON.stringify(data))}var cmplzUpdateCheckbox=true;$(document).on("change",".cmplz-consent-checkbox",function(){cmplzUpdateCheckbox=false;var category=$(this).data("category");var checked=$(this).is(":checked");$("."+category).each(function(){$(this).prop("checked",checked)});if(!$(this).closest(".cc-window").length){cmplzFireCategories();cmplzDisableAutoDismiss();cmplzSaveCategoriesSelection("banner")}});$(document).on("click",".cc-revoke-custom",function(){if("optin"===complianz.consenttype||"optinstats"===complianz.consenttype){if(complianz.tm_categories)for(var i=0;i<complianz.cat_num;i++)$(".cmplz_"+i).each(function(){$(this).prop("checked",false)});for(var key in cmplzCategories)if(cmplzCategories.hasOwnProperty(key)){var cat=cmplzCategories[key];if("cmplz_functional"===cat)continue;$("."+cat).each(function(){$(this).prop("checked",false)})}}if("deny"===cmplzGetCookie("complianz_consent_status")){$(".cc-revoke").click();$(".cc-revoke").fadeOut()}else if("no"===complianz.use_categories){cmplzSetCookie("complianz_consent_status","deny",complianz.cookie_expiry);cmplzRevoke()}else cmplzRevoke()});$(document).on("click",".cmplz-accept-cookies",function(event){event.preventDefault();cmplzAcceptAllCookies()});$(document).on("click",".cmplz-accept-marketing",function(event){event.preventDefault();$(".cmplz_marketing").each(function(){$(this).prop("checked",true)});cmplzFireCategories("marketing",true);cmplzSaveCategoriesSelection("isolated");cmplzEnableMarketing()});$(document).on("click",".cc-accept-all",function(event){cmplzAcceptAllCookies()});function cmplzAcceptAllCookies(){ccName.setStatus(cookieconsent.status.allow);cmplzSyncCategoryCheckboxes(true);cmplzFireCategories("all",true);cmplzSaveCategoriesSelection("banner");var details=new Object;details.region=complianz.region;var event=new CustomEvent("cmplzAcceptAll",{detail:details});document.dispatchEvent(event);ccName.close();$(".cc-revoke").fadeIn()}$(".cmplz-hide-cats").show();function cmplzUpdateStatusCustomLink(updateCheckbox){updateCheckbox="undefined"!==typeof updateCheckbox?updateCheckbox:true;if(!updateCheckbox)cmplzUpdateCheckbox=false;if(cmplzUpdateCheckbox)cmplzSyncCategoryCheckboxes();if($(".cc-revoke-custom").length){var accepted=$(".cmplz-status-accepted");var denied=$(".cmplz-status-denied");if("optout"===complianz.consenttype)if("deny"===cmplzGetCookie("complianz_consent_status")){accepted.hide();denied.show()}else{accepted.show();denied.hide()}else if("marketing"===cmplzGetHighestAcceptance()){accepted.show();denied.hide()}else{accepted.hide();denied.show()}}}cmplzUpdateStatusCustomLink();function cmplzSetCookie(name,value,days){if("undefined"===typeof document)return;var secure=";secure";var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3);var expires=";expires="+date.toGMTString();if("https:"!==window.location.protocol)secure="";var domain=cmplzGetCookieDomain();if(domain.length>0)domain=";domain="+domain;document.cookie=name+"="+value+";SameSite=Lax"+secure+expires+domain+";path="+cmplzGetCookiePath()}function cmplzGetCookiePath(){return"undefined"!==typeof complianz.cookie_path&&""!==complianz.cookie_path?complianz.cookie_path:"/"}function cmplzGetCookieDomain(){var domain="";if(1==complianz.set_cookies_on_root&&complianz.cookie_domain.length>3)domain=complianz.cookie_domain;if(-1!==domain.indexOf("localhost")){domain="";if(!cmplzLocalhostWarningShown)console.log("Configuration warning: cookies can't be set on root domain on localhost setups");cmplzLocalhostWarningShown=true}return domain}function cmplzGetCookie(cname){if("undefined"===typeof document)return"";var name=cname+"=";var cArr=document.cookie.split(";");for(var i=0;i<cArr.length;i++){var c=cArr[i].trim();if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""}function dismissCookieWall(){$("#cc-banner-wrap").removeClass("cmplz-soft-cookiewall")}function activateCookieWall(){$("#cc-banner-wrap").addClass("cmplz-soft-cookiewall")}function cmplzGetHighestAcceptance(){var consentedCategories=cmplzAcceptedCategories();if(cmplzInArray("cmplz_marketing",consentedCategories))return"marketing";if(complianz.tm_categories)for(var i=complianz.cat_num-1;i>=0;i--)if(cmplzInArray("cmplz_event_"+i,consentedCategories))return"cmplz_event_"+i;if(cmplzInArray("cmplz_stats",consentedCategories))return"stats";if(cmplzInArray("cmplz_prefs",consentedCategories))return"prefs";return"functional"}function cmplzAcceptedCategories(){var consentedCategories=cmplzCategories;var consentedTemp=[];var status=cmplzGetCookie("complianz_consent_status");if("allow"===status||"deny"!==status&&"optout"===complianz.consenttype)return consentedCategories;for(var key in consentedCategories)if(consentedCategories.hasOwnProperty(key)){var cat=consentedCategories[key];if("allow"===cmplzGetCookie(cat)||"cmplz_functional"===cat)consentedTemp.push(cat)}consentedCategories=consentedCategories.filter(function(value,index,consentedCategories){return cmplzInArray(value,consentedTemp)});if(complianz.tm_categories){for(var i=complianz.cat_num-1;i>=0;i--)if("allow"===cmplzGetCookie("cmplz_event_"+i))consentedCategories.push("cmplz_event_"+i);consentedCategories=consentedCategories.filter(function(value,index,consentedCategories){return"cmplz_stats"!==value})}return consentedCategories}function cmplzFireCategories(category,save){cmplzSetAcceptedCookiePolicyID();category="undefined"!==typeof category?category:false;var forceMarketing="all"===category||"marketing"===category;var forceStatistics="all"===category||"statistics"===category;var forcePreferences="all"===category||"preferences"===category;var highestCategoryAccepted="functional";save="undefined"!==typeof save?save:false;cmplz_wp_set_consent("functional","allow");if("optinstats"!==complianz.consenttype)cmplz_wp_set_consent("statistics-anonymous","allow");cmplzRunTmEvent("cmplz_event_functional");if(complianz.tm_categories){for(var i=0;i<complianz.cat_num;i++)if("all"===category||$(".cmplz_"+i).is(":checked"))cmplzRunTmEvent("cmplz_event_"+i)}else{if(forcePreferences||$(".cmplz_prefs").length&&$(".cmplz_prefs").is(":checked")){cmplz_wp_set_consent("preferences","allow");highestCategoryAccepted="preferences"}if(forceStatistics||$(".cmplz_stats").length&&$(".cmplz_stats").is(":checked")){cmplz_wp_set_consent("statistics","allow");cmplz_wp_set_consent("statistics-anonymous","allow");cmplzEnableStats();highestCategoryAccepted="statistics"}}if(forceMarketing||$(".cmplz_marketing").length&&$(".cmplz_marketing").is(":checked")){setStatusAsBodyClass("marketing");cmplz_wp_set_consent("marketing","allow");cmplzRunTmEvent("cmplz_event_marketing");cmplzEnableMarketing();highestCategoryAccepted="marketing"}var details=new Object;details.category=highestCategoryAccepted;details.region=complianz.region;var event=new CustomEvent("cmplzFireCategories",{detail:details});document.dispatchEvent(event);if(save)if(forceMarketing||$(".cmplz_marketing").length&&$(".cmplz_marketing").is(":checked"))cmplzSetCookie("complianz_consent_status","allow",complianz.cookie_expiry)}function cmplzSyncCategoryCheckboxes(force){force="undefined"!==typeof force?force:false;if(complianz.tm_categories)for(var i=0;i<complianz.cat_num;i++)if("allow"===cmplzGetCookie("cmplz_event_"+i)||force)$(".cmplz_"+i).each(function(){$(this).prop("checked",true)});else $(".cmplz_"+i).each(function(){$(this).prop("checked",false)});for(var key in cmplzCategories)if(cmplzCategories.hasOwnProperty(key)){var cat=cmplzCategories[key];if("cmplz_functional"===cat)continue;if("allow"===cmplzGetCookie(cat)||force)$("."+cat).each(function(){$(this).prop("checked",true)});else $("."+cat).each(function(){$(this).prop("checked",false)})}if("marketing"===cmplzGetHighestAcceptance()||force)$(".cmplz_marketing").each(function(){$(this).prop("checked",true)});else $(".cmplz_marketing").each(function(){$(this).prop("checked",false)})}function cmplzMergeObject(userdata,ajax_data){var output=[];for(key in ajax_data)if(ajax_data.hasOwnProperty(key))output[key]=ajax_data[key];for(var key in userdata)if(!ajax_data.hasOwnProperty(key)||"undefined"===typeof ajax_data[key])if(userdata.hasOwnProperty(key))output[key]=userdata[key];return output}function cmplzCheckCookiePolicyID(){var user_policy_id=cmplzGetCookie("complianz_policy_id");if(user_policy_id&&complianz.current_policy_id!==user_policy_id)cmplzClearAllComplianzCookies()}function cmplzClearAllComplianzCookies(){if("undefined"===typeof document)return;var secure=";secure";var date=new Date;date.setTime(date.getTime()-24*60*60*1e3);var expires=";expires="+date.toGMTString();if("https:"!==window.location.protocol)secure="";(function(){var cookies=document.cookie.split("; ");for(var c=0;c<cookies.length;c++){var d=window.location.hostname.split(".");var skip_last=d.length>1;while(d.length>0){var cookieName=cookies[c].split(";")[0].split("=")[0];var p=location.pathname;p=p.replace(/^\/|\/$/g,"").split("/");if(-1!==cookieName.indexOf("cmplz")||-1!==cookieName.indexOf("complianz")){var cookieBase=encodeURIComponent(cookieName)+"=;SameSite=Lax"+secure+expires+";domain=."+d.join(".")+";path=";var cookieBaseDomain=encodeURIComponent(cookieName)+"=;SameSite=Lax"+secure+expires+";domain=;path=";document.cookie=cookieBaseDomain+"/";document.cookie=cookieBase+"/";while(p.length>0){var path=p.join("/");if(path.length>0){document.cookie=cookieBase+"/"+path;document.cookie=cookieBaseDomain+"/"+path;document.cookie=cookieBase+"/"+path+"/";document.cookie=cookieBaseDomain+"/"+path+"/"}p.pop()}}d.shift();if(skip_last&&1==d.length)d.shift()}}})();cmplzSetAcceptedCookiePolicyID()}function cmplzSetAcceptedCookiePolicyID(){cmplzSetCookie("complianz_policy_id",complianz.current_policy_id,complianz.cookie_expiry)}function cmplzIntegrationsInit(){var cookiesToSet=complianz.set_cookies;for(var key in cookiesToSet)if(cookiesToSet.hasOwnProperty(key)&&"1"===cookiesToSet[key][1])cmplzSetCookie(key,cookiesToSet[key][1],0)}function cmplzIntegrationsRevoke(){var cookiesToSet=complianz.set_cookies;for(var key in cookiesToSet)if(cookiesToSet.hasOwnProperty(key))cmplzSetCookie(key,cookiesToSet[key][1],0)}function cmplzIntegrationsConsent(){var cookiesToSet=complianz.set_cookies;for(var key in cookiesToSet)if(cookiesToSet.hasOwnProperty(key))cmplzSetCookie(key,cookiesToSet[key][0],complianz.cookie_expiry)}function cmplzRevoke(){var consentLevel=cmplzGetHighestAcceptance();var reload=false;if("functional"!==consentLevel)reload=true;if("no"===complianz.use_categories)reload=true;if(complianz.tm_categories)for(var i=0;i<complianz.cat_num;i++){cmplzSetCookie("cmplz_event_"+i,"deny",complianz.cookie_expiry);cmplz_wp_set_consent("cmplz_event_"+i,"deny")}if($(".cmplz_stats").length){cmplzSetCookie("cmplz_stats","deny",complianz.cookie_expiry);cmplz_wp_set_consent("statistics","deny");if("optinstats"===complianz.consenttype)cmplz_wp_set_consent("statistics-anonymous","deny")}if($(".cmplz_prefs").length){cmplzSetCookie("cmplz_prefs","deny",complianz.cookie_expiry);cmplz_wp_set_consent("preferences","deny")}if($(".cmplz_marketing").length){cmplzSetCookie("cmplz_marketing","deny",complianz.cookie_expiry);cmplz_wp_set_consent("marketing","deny")}if("no"!==complianz.use_categories)cmplzSetCookie("complianz_consent_status","deny",complianz.cookie_expiry);cmplzIntegrationsRevoke();cmplzSyncCategoryCheckboxes();cmplzFireCategories();complianz_track_status();var event=new CustomEvent("cmplzRevoke",{detail:reload});document.dispatchEvent(event);cmplzUpdateStatusCustomLink();if(!complianz.tcf_active&&reload)location.reload()}function cmplzGetUrlParameter(sPageURL,sParam){if("undefined"===typeof sPageURL)return false;var queryString=sPageURL.split("?");if(1==queryString.length)return false;var sURLVariables=queryString[1].split("&"),sParameterName,i;for(i=0;i<sURLVariables.length;i++){sParameterName=sURLVariables[i].split("=");if(sParameterName[0]===sParam)return void 0===sParameterName[1]?true:decodeURIComponent(sParameterName[1])}return false}function cmplzInArray(needle,haystack){var length=haystack.length;for(var i=0;i<length;i++)if(-1!==haystack[i].indexOf(needle))return true;return false}function cmplzMaybeAutoRedirect(){var redirect=cmplzGetUrlParameter(window.location.href,"cmplz_region_redirect");var region=cmplzGetUrlParameter(window.location.href,"region");if(redirect&&!region)window.location.href=window.location.href+"&region="+complianz.region}function cmplz_wp_set_consent(type,value){if("function"==typeof wp_set_consent)wp_set_consent(type,value)}function cmplzLoadRevokeContainer(){if($(".cmplz-manage-consent-container").length){var request=new XMLHttpRequest;request.open("GET",complianz.url.replace("/v1","/v1/manage_consent_html"),true);request.setRequestHeader("Content-type","application/json");request.send();request.onload=function(){$(".cmplz-manage-consent-container").html(JSON.parse(request.response));cmplzSyncCategoryCheckboxes();cmplzUpdateStatusCustomLink()}}}function getHoverColour(hex){if("#"==hex[0])hex=hex.substr(1);if(3==hex.length)hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];if("000000"==hex)return"#222";var num=parseInt(hex,16),amt=38,R=(num>>16)+amt,B=(num>>8&255)+amt,G=(255&num)+amt;var newColour=(16777216+65536*(R<255?R<1?0:R:255)+256*(B<255?B<1?0:B:255)+(G<255?G<1?0:G:255)).toString(16).slice(1);return"#"+newColour}});